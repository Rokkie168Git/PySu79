{% extends "master.html" %}

{% block container %}
<div class="container my-5">
    <h2 class="mb-4">Your Cart</h2>

    <div v-if="cart_list.length==0" class="alert alert-info">Your cart is empty.</div>

    <div v-else class="table-responsive-md">
        <table class="table table-bordered table-hover align-middle text-center table-sm mb-0">
            <thead class="thead-light">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Image</th>
                    <th scope="col">Title</th>
                    <th scope="col" class="d-none d-md-table-cell">Category</th>
                    <th scope="col">Qty</th>
                    <th scope="col">Price</th>
                    <th scope="col">Remove</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(item, index) in cart_list" :key="item.id">
                    <td>[[ index+1 ]]</td>
                    <td>
                        <img :src="item.main_image"
                             class="img-fluid rounded"
                             style="max-width: 60px; height: 60px; object-fit: cover;">
                    </td>
                    <td class="text-left text-truncate" style="max-width: 120px;" :title="item.title">
                        [[ item.name ]]
                    </td>
                    <td class="d-none d-md-table-cell">[[ item.brand ]]</td>
                   <td class="align-middle text-center" style="vertical-align: middle;">
  <div class="d-flex justify-content-center">
    <div class="input-group input-group-sm flex-nowrap" style="width: 100px;">
      <button class="btn btn-danger" type="button" @click="decreaseQty(index)">
        &minus;
      </button>
      <input type="text" class="form-control text-center px-1" :value="item.qty" readonly style="width: 36px; min-width: 0;">
      <button class="btn btn-success" type="button" @click="increaseQty(index)">
        +
      </button>
    </div>
  </div>
</td>







                    <td class="text-danger font-weight-bold">$[[ item.price ]]</td>
                    <td>
                        <button class="btn btn-sm btn-danger" @click="RemoveCart(index)">
                            &times;
                        </button>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="5" class="text-right">Total</th>
                    <th class="text-danger font-weight-bold" colspan="2">
                        $[[ totalPrice().toFixed(2) ]]
                    </th>
                </tr>
            </tfoot>
        </table>
    </div>

    <div class="d-flex flex-wrap mt-3">
        <a href="/" class="btn btn-outline-secondary flex-fill mr-2 mb-2">Continue Shopping</a>
        <a v-if="cart_list.length>0" href="/Checkout" class="btn btn-primary flex-fill mb-2">Checkout</a>
    </div>
</div>
{% endblock %}
