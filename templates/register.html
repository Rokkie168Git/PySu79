<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login & Register Form</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <style>
    body {
        min-height: 100vh;
      background: linear-gradient(135deg, #a7e1ff 0%, #b9a7ff 100%);
      display: flex;
      align-items: center;
      justify-content: center;

    }
    .glass-card {
      background: rgba(255,255,255,0.3);
      border-radius: 24px;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.10);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1.5px solid rgba(255,255,255,0.20);
      padding: 2.5rem 2rem 2rem 2rem;
      max-width: 390px;
      margin: 2rem auto;
        transform: scale(1.8);
      animation: cardIn 1s cubic-bezier(.71,-0.19,.34,1.31);
    }


  /* The rest of your card styles */


/* Optional: Keep it centered in all viewport sizes */


    @keyframes cardIn {
      0% { opacity: 0; transform: translateY(60px) scale(.9);}
      100% { opacity: 1; transform: translateY(0) scale(1.8);}
    }
    @media (max-width: 800px) {
  .glass-card {
    transform: scale(1.1);
  }
}
@media (max-width: 500px) {
  .glass-card {
    transform: scale(0.95);
  }
}

  </style>
</head>
<body>
<div id="app">
  <div class="glass-card">
    <h4 class="text-center mb-4">[[ mode === 'login' ? 'Welcome Back ðŸ‘‹' : 'Create Account' ]]</h4>
    <form v-if="mode === 'login'" @submit.prevent="login" autocomplete="on">
      <div class="mb-3">
        <input v-model="loginForm.username" type="text" class="form-control" placeholder="Username" required autofocus>
      </div>
      <div class="mb-3">
        <input v-model="loginForm.password" type="password" class="form-control" placeholder="Password" required>
      </div>
      <button type="submit" class="btn btn-primary w-100 py-2 mb-2">Login</button>
      <div class="text-center mt-2">
        <small>
          <span style="color:#888">Donâ€™t have an account?</span>
          <a href="#" @click.prevent="mode='register'">Register</a>
        </small>
      </div>
    </form>
    <form v-else @submit.prevent="register" autocomplete="on">
      <div class="mb-3">
        <input v-model="registerForm.username" type="text" class="form-control" placeholder="Username" required>
      </div>
      <div class="mb-3">
        <input v-model="registerForm.password" type="password" class="form-control" placeholder="Password" required>
      </div>
      <div class="mb-3">
        <input v-model="registerForm.email" type="email" class="form-control" placeholder="Email" required>
      </div>
      <button type="submit" class="btn btn-success w-100 py-2 mb-2">Register</button>
      <div class="text-center mt-2">
        <small>
          <span style="color:#888">Already have an account?</span>
          <a href="#" @click.prevent="mode='login'">Login</a>
        </small>
      </div>
    </form>
    <div v-if="message" class="alert alert-info mt-3 text-center" role="alert">
      [[ message ]]
    </div>
  </div>
</div>
<script>
const { createApp } = Vue;

createApp({
  delimiters: ['[[', ']]'],
  data() {
    return {
      mode: 'login', // or 'register'
      loginForm: {
        username: '',
        password: ''
      },
      registerForm: {
        username: '',
        password: '',
        email: ''
      },
      message: ''
    }
  },methods: {
  login() {
    if (this.loginForm.username && this.loginForm.password) {
      let users = JSON.parse(localStorage.getItem('User')) || [];
      const found = users.find(u =>
        u.username === this.loginForm.username &&
        u.password === this.loginForm.password
      );
      if (found) {
        this.message = `Welcome, ${found.username}! ðŸŽ‰`;
         setTimeout(() => {
        window.location.href = '/';
      }, 800);
      } else {
        this.message = 'Invalid username or password.';
      }
    } else {
      this.message = 'Please enter your username and password.';
    }
  },
  register() {
    if(this.registerForm.username && this.registerForm.password && this.registerForm.email) {
      this.message = `Thanks for registering, ${this.registerForm.username}!`;
      const data = {
        username: this.registerForm.username,
        password: this.registerForm.password,
        email: this.registerForm.email
      };
      let users = JSON.parse(localStorage.getItem('User')) || [];
      users.push(data);
      localStorage.setItem('User', JSON.stringify(users));
      this.mode = 'login';
    } else {
      this.message = 'Please fill in all fields.';
    }
  }
}

}).mount('#app');
</script>
</body>
</html>
