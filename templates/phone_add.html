{% extends 'base_admin.html' %}
{% block title %}Add Phone â€¢ Admin{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h4 class="mb-0">Add Phone</h4>
    <small class="text-muted">Create a new product</small>
  </div>
  <a href="{{ url_for('phone_list') }}" class="btn btn-outline-secondary"><i class="fas fa-list-ul mr-1"></i> All Phones</a>
</div>

<div class="card shadow-sm">
  <div class="card-body">
    {% if errors %}
    <div class="alert alert-danger"><ul class="mb-0">{% for e in errors %}<li>{{ e }}</li>{% endfor %}</ul></div>
    {% endif %}

    <form class="needs-validation" novalidate action="{{ url_for('add_phone') }}" method="POST" enctype="multipart/form-data">
      <div class="form-row">
        <div class="form-group col-md-6"><label>Name *</label><input name="name" class="form-control" required><div class="invalid-feedback">Required.</div></div>
        <div class="form-group col-md-3"><label>Brand *</label><input name="brand" class="form-control" required></div>
        <div class="form-group col-md-3"><label>Model *</label><input name="model" class="form-control" required></div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-3"><label>Price *</label><input type="number" step="0.01" min="0" name="price" class="form-control" required></div>
        <div class="form-group col-md-3"><label>Quantity *</label><input type="number" min="0" name="quantity" class="form-control" required></div>
        <div class="form-group col-md-3"><label>Warranty (months) *</label><input type="number" min="0" name="warranty_mo" class="form-control" value="12" required></div>
        <div class="form-group col-md-3"><label>Availability *</label>
          <select name="available" class="form-control" required>
            <option value="in_stock">In stock</option>
            <option value="out_of_stock">Out of stock</option>
            <option value="preorder">Pre-order</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-3"><label>OS *</label><input name="os" class="form-control" placeholder="Android 14 / iOS 17" required></div>
        <div class="form-group col-md-3"><label>CPU *</label><input name="cpu" class="form-control" required></div>
        <div class="form-group col-md-3"><label>RAM (GB) *</label><input type="number" min="1" name="ram_gb" class="form-control" required></div>
        <div class="form-group col-md-3"><label>Storage (GB) *</label><input type="number" min="16" name="storage_gb" class="form-control" required></div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-4"><label>Display *</label><input name="display" class="form-control" placeholder='6.1" OLED 120Hz' required></div>
        <div class="form-group col-md-4"><label>Cameras *</label><input name="cameras" class="form-control" placeholder="48MP + 12MP + 12MP" required></div>
        <div class="form-group col-md-2"><label>Battery (mAh) *</label><input type="number" min="1000" name="battery_mah" class="form-control" required></div>
        <div class="form-group col-md-2"><label>Color *</label><input name="color" class="form-control" required></div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6"><label>Network *</label><input name="network" class="form-control" placeholder="5G / 4G LTE" required></div>
        <div class="form-group col-md-6"><label>Type *</label>
          <select name="type" class="form-control" required>
            <option value="smartphone">Smartphone</option>
            <option value="feature">Feature phone</option>
            <option value="tablet">Tablet</option>
          </select>
        </div>
      </div>
      <div class="form-group"><label>Highlights *</label><textarea name="highlights" rows="2" class="form-control" placeholder="One feature per line" required></textarea></div>
      <div class="form-group"><label>Description *</label><textarea name="description" rows="3" class="form-control" required></textarea></div>
      <div class="form-row">
        <div class="form-group col-md-4"><label>Main image *</label><input type="file" name="main_image" class="form-control-file" accept="image/*" required></div>
        <div class="form-group col-md-4"><label>Side image *</label><input type="file" name="side_image" class="form-control-file" accept="image/*" required></div>
        <div class="form-group col-md-4"><label>Sub image *</label><input type="file" name="sub_image" class="form-control-file" accept="image/*" required></div>
      </div>
      <button class="btn btn-primary btn-lg">Save phone</button>
      <a href="{{ url_for('phone_list') }}" class="btn btn-link">Cancel</a>
    </form>
  </div>
</div>
<script>
  (function(){'use strict';var forms=document.getElementsByClassName('needs-validation');Array.prototype.forEach.call(forms,function(form){form.addEventListener('submit',function(e){if(!form.checkValidity()){e.preventDefault();e.stopPropagation();}form.classList.add('was-validated');},false);});})();
</script>
{% endblock %}
